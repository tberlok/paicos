name: manylinux

on:
  # Trigger the workflow on push or pull request,
  # but only for the main branch and the pypi branch
  push:
    branches:
      - main
      - pypi
  pull_request:
    branches:
      - main

uses: RalfG/python-wheels-manylinux-build@v0.7.1
with:
    python-versions: 'cp310-cp310 cp311-cp311'
    build-requirements: 'cython numpy astropy h5py scipy'
    system-packages: ''
    pre-build-command: 'make'
    package-path: ''
    pip-wheel-args: '-w ./dist --no-deps'
